<!DOCTYPE html>
<html lang="en" class="scroll_auto">

<head>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">
  <meta name="viewport" content="width=device-width, initial-scale=2.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta property="og:image" content="https://vr.miceview.kr/path/og_ep.jpg">
  <link rel="icon" href="https://vr.miceview.kr/path/favi_ep.png">
  <meta name="keywords" content="2021 NEXPO in 순천">
  <meta name="description" content="2021 NEXPO in 순천">
  <meta name="robots" content="all">
  <meta property="og:url" content>
  <meta property="og:description" content="2021 NEXPO in 순천">
  <meta property="og:title" content="2021 NEXPO in 순천">

  <!-- 필수: babel -->
  <script src="//cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.26.0/babel.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/babel-polyfill/7.12.1/polyfill.min.js"></script>
  <script src="https://unpkg.com/core-js-bundle@3.8.1/index.js"></script>
  <script src="https://unpkg.com/regenerator-runtime@0.13.7/runtime.js"></script>
  
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-T5VR3BBBMP"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
  
    gtag('config', 'G-T5VR3BBBMP');
  </script>

  <!-- Style include -->
  <script src="https://vr.miceview.kr/path/assets/js/jquery-3.5.1.min.js"></script>
  
  <!-- library -->
  <link href="css/owl.carousel.min.css" rel="stylesheet">
  <script src="js/owl.carousel.min.js"></script>

  <!-- general style -->
  <link href="https://cdn.zipview.kr/public/fonts/common.css" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="css/olim_general.css">
  <script src="js/olim_general.js"></script>

  <!-- project -->
  <link rel="stylesheet" type="text/css" href="css/common.css">
  <script src="js/common.js"></script>

  <!-- 필수: VUE 삽입 -->
  <script src="https://cdn.jsdelivr.net/npm/vue@2.6.0"></script>
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

  <title>2021 NEXPO in 순천</title>
</head>

<body>
  <div id="app" style="display: none">
    <!-- header -->
    <header class="header" id="header">
      <a class="site_logo" href="index.html"><h1>2021 NEXPO in 순천</h1></a>
      <!-- gnb -->
      <nav class="gnb">
        <h2 class="ir_text">Main menu</h2>
        <button type="button" class="gnb-btn"><span class="ir_text">Main menu</span></button>
        <div class="gnb-wrap">
          <ul class="gnb-list">
            <li class="gnb-item">
              <a href="lobby-ko.html"><span class="gnb-title">Home</span></a>
            </li>
            <li class="gnb-item">
              <a href="hall1-ko.html"><span class="gnb-title">미래 생활 체험관</span></a>
            </li>
            <li class="gnb-item">
              <a href="hall2-ko.html"><span class="gnb-title">미래 기술ㆍ교육 체험관</span></a>
            </li>
            <li class="gnb-item">
              <a href="conference-ko.html"><span class="gnb-title">컨퍼런스 홀</span></a>
            </li>
            <li class="gnb-item is_selected">
              <a href="search-ko.html"><span class="gnb-title">참가기업 리스트</span></a>
            </li>
          </ul>
        </div>
      </nav>
      <!-- //gnb -->
      <div class="breadcrumbs ir_text" role="navigation">
        <ol class="breadcrumbs_list">
          <li class="breadcrumbs_item">
            <strong><span class="is_now">2021 NEXPO in 순천</span></strong>
          </li>
        </ol>
      </div>
    </header>
    <!-- //header -->

    <!-- container / add page class -->
    <div class="container search_company">
      <!-- contents/본문 -->
      <div class="contents">
        <h2 class="search_company-title">참가기업 리스트</h2>

        <div class="inp_txt_wrap inp_c_search-wrap">
          <label for="value">검색어를 입력하세요</label>
          <input onkeyup="filter()" type="text" id="value" name="inp_c_search" class="inp_txt inp_c_search" title="Search">
        </div>
        <div class="search_company-wrap">
          <ul class="search_company-list">
            <li class="search_company-item" v-for="partner in partners" :key="partner.id">
              <span class="ir_text search_hdn_keyword"> </span>
              <div class="company_logo">
                <!-- [D] 기업로고 -->
                <!-- [D] 로고 이미지가 없는 경우 -->
                <img
                  :src="getURL(partner.responses, '6WDAkgzeNl') ? getURL(partner.responses, '6WDAkgzeNl') : 'https://vr.miceview.kr/path/assets/images/logo-default.jpg'"
                  @error="imgError">
              </div>
              <div class="company_info">
                <!-- [D] 기업명 -->
                <strong class="company_list-name" v-text="getData(partner.responses, 'Xb39UuY1yA')"></strong>
                <!-- 없을 경우 공란 처리 -->
                <!--<div class="company_tag" v-text="getData(partner.responses, 'lfx25FRAJ3')"></div>-->
              </div>
              <div class="btn_wrap">
                <!-- [D] CDMS : [마이스뷰] 기업 이동 링크 -->
                <a :href="getData(partner.responses, 'GgLGiJvSGW')" class="btn"><span>Click</span></a>
              </div>
            </li>
          </ul>
        </div>

      </div>
      <!-- //contents/본문 -->
    </div>
    <!-- //container -->
  </div>
</body>
</html>

<!-- [D][P] 퍼블리싱에서 사용한 검색으로 사용하지 않을 시 제거해주세요. -->
<script type="text/babel" data-presets="es2015, stage-3">
new Vue({
  el: '#app',
  data: {
    project: 'alZsBgWms0',
    partners: [],
  },
  computed: {},
  created: function() {
    document.getElementById('app').style.display = 'block';
    this.getPartners();
  },
  methods: {
    getPartners: async function () {
      const { data } = await axios.get('https://cdms.olimzone.com/v1/projects/'+ this.project +'/partners?scope=responses');
      data.sort(function (a, b) {
        if (a.name < b.name) {
            return -1;
        }
        if (b.name < a.name) {
            return 1;
        }
        return 0;
      });
      this.partners = data;
    },
    getData: function (responses, id) {
      if(!responses || !id) { return '';}

      const response = responses.find(function (response) {
        return response.formID === id
      });

      if(!response) { return ''; }

      return response.data;
    },
    getURL: function (responses, id) {
      if(!responses || !id) { return '';}

      const response = responses.find(function (response) {
        return response.formID === id
      });

      if(!response) { return ''; }
      if(!response.files || !response.files[0]) { return ''; }

      return response.files[0].url;
    },
    imgError: function (e) {
      e.target.src = 'https://vr.miceview.kr/path/assets/images/logo-default.jpg';
    },
  },
});

function filter() {
  var value, name, item, i, keyword, member;
  value = document.getElementById("value").value.toUpperCase();
  item = document.getElementsByClassName("search_company-item");

  for (i = 0; i < item.length; i++) {
    name = item[i].getElementsByClassName("company_list-name");
    keyword = item[i].getElementsByClassName("search_hdn_keyword");
    //member = item[i].getElementsByClassName("company_tag");
    if (name[0].innerText.toUpperCase().indexOf(value) > -1 || keyword[0].innerText.toUpperCase().indexOf(value) > -1) {
      item[i].style.display = "block";
    } else {
      item[i].style.display = "none";
    }
  }
}
</script>